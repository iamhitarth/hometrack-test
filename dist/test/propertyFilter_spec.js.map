{"version":3,"sources":["../../test/propertyFilter_spec.js"],"names":["propFilter","require","assert","describe","reqObj","filteredProperties","getFiltered","payload","it","equal","length","deepEqual"],"mappings":"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","file":"propertyFilter_spec.js","sourcesContent":["let propFilter = require('../lib/propertyFilter');\nlet assert = require('assert');\n\ndescribe('PropertyFilter', () => {\n\n    let reqObj = {\n        \"payload\": [\n            {\n                \"address\": {\n                    \"buildingNumber\": \"28\",\n                    \"lat\": -33.912542000000002,\n                    \"lon\": 151.00293199999999,\n                    \"postcode\": \"2198\",\n                    \"state\": \"NSW\",\n                    \"street\": \"Donington Ave\",\n                    \"suburb\": \"Georges Hall\"\n                },\n                \"propertyTypeId\": 3,\n                \"readyState\": \"init\",\n                \"reference\": \"aqsdasd\",\n                \"shortId\": \"6Laj49N3PiwZ\",\n                \"status\": 0,\n                \"type\": \"htv\",\n                \"workflow\": \"pending\"\n            },\n            {\n                \"address\": {\n                    \"buildingNumber\": \"Level 6\",\n                    \"postcode\": \"2060\",\n                    \"state\": \"NSW\",\n                    \"street\": \"146 Arthur Street\",\n                    \"suburb\": \"North Sydney\"\n                },\n                \"propertyTypeId\": 3,\n                \"readyState\": \"init\",\n                \"reference\": \"asdasd\",\n                \"shortId\": \"E9eQVYEMkub2\",\n                \"status\": 4,\n                \"type\": \"htv\",\n                \"valfirm\": null,\n                \"workflow\": \"completed\"\n            },\n            {\n                \"address\": {\n                    \"buildingNumber\": \"25\",\n                    \"postcode\": \"4000\",\n                    \"state\": \"QLD\",\n                    \"street\": \"Mary St\",\n                    \"suburb\": \"Brisbane\"\n                },\n                \"propertyTypeId\": 3,\n                \"readyState\": \"init\",\n                \"reference\": \"asdas\",\n                \"shortId\": \"nQMyWWLBvu4A\",\n                \"status\": 1,\n                \"type\": \"avm\",\n                \"workflow\": \"pending\"\n            },\n            {\n                \"address\": {\n                    \"buildingNumber\": \"92\",\n                    \"postcode\": \"2000\",\n                    \"state\": \"NSW\",\n                    \"street\": \"Pitt Street\",\n                    \"suburb\": \"Sydney\",\n                    \"unitNumber\": \"Suite 1 Level 8\"\n                },\n                \"propertyTypeId\": 3,\n                \"readyState\": \"complete\",\n                \"reference\": \"asdasd\",\n                \"shortId\": \"ZM73nE4nKH56\",\n                \"status\": 4,\n                \"type\": \"avm\",\n                \"workflow\": \"cancelled\"\n            },\n            {\n                \"address\": {\n                    \"buildingNumber\": \"28\",\n                    \"lat\": -33.912542000000002,\n                    \"lon\": 151.00293199999999,\n                    \"postcode\": \"2198\",\n                    \"state\": \"NSW\",\n                    \"street\": \"Donington Ave\",\n                    \"suburb\": \"Georges Hall\"\n                },\n                \"propertyTypeId\": 3,\n                \"readyState\": \"complete\",\n                \"reference\": \"asdasdas\",\n                \"shortId\": \"AQzAB5xMXFNx\",\n                \"status\": 3,\n                \"type\": \"avm\",\n                \"workflow\": \"completed\"\n            },\n            {\n                \"address\": {\n                    \"buildingNumber\": \"360\",\n                    \"postcode\": \"3000\",\n                    \"state\": \"VIC\",\n                    \"street\": \"Elizabeth St\",\n                    \"suburb\": \"Melbourne\",\n                    \"unitNumber\": \"Level 28\"\n                },\n                \"propertyTypeId\": 3,\n                \"readyState\": \"complete\",\n                \"reference\": \"asdas\",\n                \"shortId\": \"yebZvgdA7FRk\",\n                \"status\": 1,\n                \"type\": \"htv\",\n                \"workflow\": \"completed\"\n            },\n            {\n                \"address\": {\n                    \"buildingNumber\": \"153\",\n                    \"postcode\": \"2229\",\n                    \"state\": \"NSW\",\n                    \"street\": \"Denman Avenue\",\n                    \"suburb\": \"CARINGBAH\",\n                    \"unitNumber\": \"Suite 7\"\n                },\n                \"propertyTypeId\": 3,\n                \"readyState\": \"complete\",\n                \"reference\": \"asdas\",\n                \"shortId\": \"YP7NJVNpVCdr\",\n                \"status\": 4,\n                \"type\": \"htv\",\n                \"workflow\": \"cancelled\"\n            }\n        ]\n    };\n\n    let filteredProperties = propFilter.getFiltered(reqObj.payload, 'htv', 'completed');\n\n    it('will return a list of properties', () => {\n        assert(filteredProperties);\n    });\n\n    it('will only return matching properties', () => {\n        assert.equal(filteredProperties.length, 2);\n    });\n\n    it('will only return filtered property fields', () => {\n        assert.deepEqual(filteredProperties[0], {\n            \"concataddress\": \"Level 6 146 Arthur Street North Sydney NSW 2060\",\n            \"type\": \"htv\",\n            \"workflow\": \"completed\"\n        })\n    });\n});"]}